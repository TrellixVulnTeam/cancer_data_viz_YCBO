{"ast":null,"code":"import * as d3 from 'd3';\nexport function drawChart(height, width) {\n  // set the dimensions and margins of the graph\n  var margin = {\n    top: 30,\n    right: 30,\n    bottom: 70,\n    left: 60\n  },\n      width = 460 - margin.left - margin.right,\n      height = 400 - margin.top - margin.bottom; // append the svg object to the body of the page\n\n  var svg = d3.select(\"#barchart1\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\").on('mousemove', function () {\n    console.log(d3.event.pageX, d3.event.pageY);\n  }); // Parse the Data\n\n  var myData = d3.csv(\"https://raw.githubusercontent.com/carlincherry/dsci554projectdata/main/StageCountSummaryUpdate.csv\");\n  myData.then(function (data) {\n    // X axis\n    var x = d3.scaleBand().range([0, width]).domain(data.map(function (d) {\n      return d.stage;\n    })).padding(0.2);\n    svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x)).selectAll(\"text\").attr(\"transform\", \"translate(-10,0)rotate(-45)\").style(\"text-anchor\", \"end\"); // Add Y axis\n\n    var y = d3.scaleLinear().domain([0, 500]).range([height, 0]);\n    svg.append(\"g\").call(d3.axisLeft(y));\n    var Tooltip = d3.select(\"#barchart1\").append(\"div\").style(\"opacity\", 0).attr(\"class\", \"tooltip\").style(\"background-color\", \"white\").style(\"border\", \"solid\").style(\"border-width\", \"2px\").style(\"border-radius\", \"5px\").style(\"padding\", \"5px\");\n\n    var mouseover = function (d) {\n      Tooltip.style(\"opacity\", 1);\n      d3.select(this).style(\"stroke\", \"black\").style(\"opacity\", 1);\n    };\n\n    var mousemove = function (d) {\n      Tooltip.html(\"The exact value of<br>this cell is: \" + d.count); // .style(\"left\", (d3.mouse(this)[0]+70) + \"px\")\n      // .style(\"top\", (d3.mouse(this)[1]) + \"px\")\n    };\n\n    var mouseleave = function (d) {\n      Tooltip.style(\"opacity\", 0);\n      d3.select(this).style(\"stroke\", \"none\").style(\"opacity\", 0.8);\n    }; // Bars\n\n\n    svg.selectAll(\"mybar\").data(data).enter().append(\"rect\").attr(\"x\", function (d) {\n      return x(d.stage);\n    }).attr(\"y\", function (d) {\n      return y(d.count);\n    }).attr(\"width\", x.bandwidth()).attr(\"height\", function (d) {\n      return height - y(d.count);\n    }).attr(\"fill\", \"#28a745\") // .on(\"mouseover\", function () {\n    //   d3.select(this).style(\"fill\", '#005A32').style('fill-opacity',1)})\n    // .on(\"mouseout\", function () {\n    //   d3.select(this).style(\"fill\", '#28a745').style('fill-opacity',1)})\n    .on(\"mouseover\", mouseover).on(\"mousemove\", mousemove).on(\"mouseleave\", mouseleave);\n  });\n}","map":{"version":3,"sources":["/Users/carlin/Desktop/USC_classes/DSCI_554/project-datadocs-real/demo/src/views/charts/StageBarChart.js"],"names":["d3","drawChart","height","width","margin","top","right","bottom","left","svg","select","append","attr","on","console","log","event","pageX","pageY","myData","csv","then","data","x","scaleBand","range","domain","map","d","stage","padding","call","axisBottom","selectAll","style","y","scaleLinear","axisLeft","Tooltip","mouseover","mousemove","html","count","mouseleave","enter","bandwidth"],"mappings":"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","sourcesContent":["import * as d3 from 'd3';\n\nexport function drawChart(height, width){\n\n// set the dimensions and margins of the graph\nvar margin = {top: 30, right: 30, bottom: 70, left: 60},\n    width = 460 - margin.left - margin.right,\n    height = 400 - margin.top - margin.bottom;\n\n// append the svg object to the body of the page\nvar svg = d3.select(\"#barchart1\")\n  .append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom)\n  .append(\"g\")\n    .attr(\"transform\",\n          \"translate(\" + margin.left + \",\" + margin.top + \")\")\n          .on('mousemove', function() {\n            console.log( d3.event.pageX, d3.event.pageY )});\n\n// Parse the Data\n\nvar myData  = d3.csv(\"https://raw.githubusercontent.com/carlincherry/dsci554projectdata/main/StageCountSummaryUpdate.csv\");\n\nmyData.then(function(data) {\n\n// X axis\nvar x = d3.scaleBand()\n  .range([ 0, width ])\n  .domain(data.map(function(d) { return d.stage; }))\n  .padding(0.2);\nsvg.append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + height + \")\")\n  .call(d3.axisBottom(x))\n  .selectAll(\"text\")\n    .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\n    .style(\"text-anchor\", \"end\");\n\n// Add Y axis\nvar y = d3.scaleLinear()\n  .domain([0, 500])\n  .range([ height, 0]);\nsvg.append(\"g\")\n  .call(d3.axisLeft(y));\n\nvar Tooltip = d3.select(\"#barchart1\")\n    .append(\"div\")\n    .style(\"opacity\", 0)\n    .attr(\"class\", \"tooltip\")\n    .style(\"background-color\", \"white\")\n    .style(\"border\", \"solid\")\n    .style(\"border-width\", \"2px\")\n    .style(\"border-radius\", \"5px\")\n    .style(\"padding\", \"5px\")\n\n    var mouseover = function(d) {\n      Tooltip\n        .style(\"opacity\", 1)\n      d3.select(this)\n        .style(\"stroke\", \"black\")\n        .style(\"opacity\", 1)\n    }\n\n    var mousemove = function(d) {\n      Tooltip\n        .html(\"The exact value of<br>this cell is: \" + d.count)\n        // .style(\"left\", (d3.mouse(this)[0]+70) + \"px\")\n        // .style(\"top\", (d3.mouse(this)[1]) + \"px\")\n    }\n\n    var mouseleave = function(d) {\n      Tooltip\n        .style(\"opacity\", 0)\n      d3.select(this)\n        .style(\"stroke\", \"none\")\n        .style(\"opacity\", 0.8)\n    }\n\n// Bars\nsvg.selectAll(\"mybar\")\n  .data(data)\n  .enter()\n  .append(\"rect\")\n    .attr(\"x\", function(d) { return x(d.stage); })\n    .attr(\"y\", function(d) { return y(d.count); })\n    .attr(\"width\", x.bandwidth())\n    .attr(\"height\", function(d) { return height - y(d.count); })\n    .attr(\"fill\", \"#28a745\")\n    // .on(\"mouseover\", function () {\n    //   d3.select(this).style(\"fill\", '#005A32').style('fill-opacity',1)})\n    // .on(\"mouseout\", function () {\n    //   d3.select(this).style(\"fill\", '#28a745').style('fill-opacity',1)})\n    .on(\"mouseover\", mouseover)\n    .on(\"mousemove\", mousemove)\n    .on(\"mouseleave\", mouseleave)  \n  })\n\n}\n"]},"metadata":{},"sourceType":"module"}