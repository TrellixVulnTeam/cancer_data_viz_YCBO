{"ast":null,"code":"import * as d3 from 'd3';\nexport function drawMap(height, width) {\n  var margin = {\n    top: 50,\n    right: 50,\n    bottom: 50,\n    left: 50\n  };\n  var width = 1300 - margin.left - margin.right;\n  var height = 800 - margin.top - margin.bottom;\n  var svg = d3.select(\"#map1\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\"); /////////////////////////////////////////////////////////////\n\n  var promises = [];\n  promises.push(d3.json(\"https://raw.githubusercontent.com/Heun-Johnson/dsci554projectdata/main/coh_area_simplified_rw.json\"));\n  promises.push(d3.json(\"https://raw.githubusercontent.com/Heun-Johnson/dsci554projectdata/main/data.json\"));\n  Promise.all(promises).then(function (values) {\n    //////////////////////////////////////////\n    /// all for legend ///\n    function legend() {\n      let {\n        color,\n        title,\n        tickSize = 6,\n        width = 800,\n        height = 50 + tickSize,\n        marginTop = 18,\n        marginRight = 0,\n        marginBottom = 16 + tickSize,\n        marginLeft = 0,\n        ticks = width / 64,\n        tickFormat,\n        tickValues\n      } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return function (tickFormat, tickValues) {\n        var svg = d3.create(\"svg\").attr(\"width\", width).attr(\"height\", height).attr(\"viewBox\", [0, 0, width, height]).style(\"overflow\", \"visible\").style(\"display\", \"block\"); //discrete\n\n        if (color.invertExtent) {\n          const thresholds = color.thresholds ? color.thresholds() // scaleQuantize\n          : color.quantiles ? color.quantiles() // scaleQuantile\n          : color.domain(); // scaleThreshold\n\n          const thresholdFormat = tickFormat === undefined ? d => d : typeof tickFormat === \"string\" ? d3.format(tickFormat) : tickFormat;\n          var x = d3.scaleLinear().domain([-1, color.range().length - 1]).rangeRound([marginLeft, width - marginRight]);\n          svg.append(\"g\").selectAll(\"rect\").data(color.range()).join(\"rect\").attr(\"x\", (d, i) => x(i - 1)).attr(\"y\", marginTop).attr(\"width\", (d, i) => x(i) - x(i - 1)).attr(\"height\", height - marginTop - marginBottom).attr(\"fill\", d => d);\n          var tickValues = d3.range(thresholds.length);\n\n          var tickFormat = i => thresholdFormat(thresholds[i], i);\n        }\n\n        svg.append(\"g\").attr(\"transform\", \"translate(0, \".concat(height - marginBottom, \")\")).call(d3.axisBottom(x).ticks(ticks, typeof tickFormat === \"string\" ? tickFormat : undefined).tickFormat(typeof tickFormat === \"function\" ? tickFormat : undefined).tickSize(tickSize).tickValues(tickValues)).call(g => g.selectAll(\".tick line\").attr(\"y1\", marginTop + marginBottom - height)).call(g => g.select(\".domain\").remove()).call(g => g.append(\"text\").attr(\"y\", marginTop + marginBottom - height - 6).attr(\"fill\", \"currentColor\").attr(\"text-anchor\", \"start\").attr(\"font-weight\", \"bold\").text(title));\n        return svg.node();\n      }(tickFormat, tickValues);\n    } //////////////////////////////////////////////////\n    /// data and map ///\n\n\n    var la_map = values[0];\n    var canc_data = values[1];\n    var color = d3.scaleQuantize([0, 36], d3.schemeGreys[9]);\n    var canc_data = Object.assign(new Map(canc_data.slice(1).map(_ref => {\n      let [zip_code, zip_canc_deaths_10k] = _ref;\n      return [zip_code, +zip_canc_deaths_10k];\n    })));\n    canc_data.title = \"2019 cancer deaths per 10k\";\n    var projection = d3.geoMercator().fitSize([width, height], la_map);\n    var path = d3.geoPath().projection(projection);\n    svg.append(\"g\").attr(\"transform\", \"translate(1000,80)\").append(() => legend({\n      color,\n      title: canc_data.title,\n      width: 200\n    }));\n    var Tooltip = d3.select(\"#map1\").append(\"div\").style(\"opacity\", 0).attr(\"class\", \"tooltip\").style(\"background-color\", \"white\").style(\"border\", \"solid\").style(\"border-width\", \"2px\").style(\"border-radius\", \"5px\").style(\"padding\", \"5px\");\n\n    var mouseover = function (d) {\n      Tooltip.style(\"opacity\", 1);\n      d3.select(this).style(\"stroke\", \"black\").style(\"opacity\", 1).style(\"fill\", '#005A32');\n    }; // var mousemove = function(d) {\n    // Tooltip\n    //     .html(\"The average tumor smoothness for this stage is \"+ this.getAttribute('carlin')+\" cm.\")\n    //     .style(\"left\", (this.getAttribute('x')) + \"px\")\n    //     .style(\"bottom\", (this.getAttribute('height')) + \"px\");\n    // }\n    // var mouseleave = function(d) {\n    // Tooltip\n    //     .style(\"opacity\", 0)\n    // d3.select(this)\n    //     .style(\"stroke\", \"none\")\n    //     .style(\"opacity\", 1)\n    //     .style(\"fill\", '#28a745')\n    // }\n\n\n    svg.append('g').attr('class', 'zipcodes').selectAll(\"path\").data(la_map.features).enter().append('path').attr('d', path).attr(\"fill\", d => color(canc_data.get(d.properties.zcta))).on('mouseover', function () {\n      // d3.select('#chor_info1')\n      //     .text('Zip code: ' +  this.__data__.properties.zcta +  ' - Total population: ' +  this.__data__.properties.tot_pop + ' - Median age: ' +  this.__data__.properties.age_median + ' years');               \n      d3.select(this).style(\"stroke\", 'blue').style(\"stroke-width\", 3);\n    }); // .on(\"mouseout\", function () {\n    //   d3.select(this).style(\"stroke\", 'black').style(\"stroke-width\",0.2);\n    // });    \n\n    var coh_hosp = [-117.97265500193778, 34.131232240226815];\n    var marker = projection(coh_hosp);\n    svg.append('circle').attr('cx', marker[0]).attr('cy', marker[1]).attr('fill', 'blue').attr('r', 10);\n  });\n}","map":{"version":3,"sources":["/Users/HHJ/Dropbox/Class/2021/DSCI554/Github/project-datadocs/demo/src/views/charts/MapChart.js"],"names":["d3","drawMap","height","width","margin","top","right","bottom","left","svg","select","append","attr","promises","push","json","Promise","all","then","values","legend","color","title","tickSize","marginTop","marginRight","marginBottom","marginLeft","ticks","tickFormat","tickValues","create","style","invertExtent","thresholds","quantiles","domain","thresholdFormat","undefined","d","format","x","scaleLinear","range","length","rangeRound","selectAll","data","join","i","call","axisBottom","g","remove","text","node","la_map","canc_data","scaleQuantize","schemeGreys","Object","assign","Map","slice","map","zip_code","zip_canc_deaths_10k","projection","geoMercator","fitSize","path","geoPath","Tooltip","mouseover","features","enter","get","properties","zcta","on","coh_hosp","marker"],"mappings":"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","sourcesContent":["import * as d3 from 'd3';\n\nexport function drawMap(height, width){\n    var margin = { top: 50, right: 50, bottom: 50, left: 50 };\n    var width = 1300 - margin.left - margin.right;\n    var height = 800 - margin.top - margin.bottom;\n    \n    var svg = d3.select(\"#map1\")\n      .append(\"svg\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"g\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    \n    \n    /////////////////////////////////////////////////////////////\n    \n    \n    var promises = [];\n    \n    promises.push(d3.json(\"https://raw.githubusercontent.com/Heun-Johnson/dsci554projectdata/main/coh_area_simplified_rw.json\"));\n    promises.push(d3.json(\"https://raw.githubusercontent.com/Heun-Johnson/dsci554projectdata/main/data.json\"));\n    \n    Promise.all(promises).then(function (values) {  \n    \n        //////////////////////////////////////////\n        /// all for legend ///\n        function legend({\n            color,\n            title,\n            tickSize = 6,\n            width = 800,\n            height = 50 + tickSize,\n            marginTop = 18,\n            marginRight = 0,\n            marginBottom = 16 + tickSize,\n            marginLeft = 0,\n            ticks = width / 64,\n            tickFormat,\n            tickValues\n        } = {}) {  \n        \n            var svg = d3.create(\"svg\")\n                .attr(\"width\", width)\n                .attr(\"height\", height)\n                .attr(\"viewBox\", [0, 0, width, height])\n                .style(\"overflow\", \"visible\")\n                .style(\"display\", \"block\");    \n        \n            //discrete\n            if (color.invertExtent) {\n                const thresholds\n                    = color.thresholds ? color.thresholds() // scaleQuantize\n                        : color.quantiles ? color.quantiles() // scaleQuantile\n                            : color.domain(); // scaleThreshold\n        \n                const thresholdFormat\n                    = tickFormat === undefined ? d => d\n                        : typeof tickFormat === \"string\" ? d3.format(tickFormat)\n                            : tickFormat;\n        \n                var x = d3.scaleLinear()\n                    .domain([-1, color.range().length - 1])\n                    .rangeRound([marginLeft, width - marginRight]);\n        \n                svg.append(\"g\")\n                    .selectAll(\"rect\")\n                    .data(color.range())\n                    .join(\"rect\")\n                    .attr(\"x\", (d, i) => x(i - 1))\n                    .attr(\"y\", marginTop)\n                    .attr(\"width\", (d, i) => x(i) - x(i - 1))\n                    .attr(\"height\", height - marginTop - marginBottom)\n                    .attr(\"fill\", d => d);\n        \n                var tickValues = d3.range(thresholds.length);\n                var tickFormat = i => thresholdFormat(thresholds[i], i);\n            }\n        \n            svg.append(\"g\")\n                .attr(\"transform\", `translate(0, ${height - marginBottom})`)\n                .call(d3.axisBottom(x)\n                    .ticks(ticks, typeof tickFormat === \"string\" ? tickFormat : undefined)\n                    .tickFormat(typeof tickFormat === \"function\" ? tickFormat : undefined)\n                    .tickSize(tickSize)\n                    .tickValues(tickValues))\n                .call(g => g.selectAll(\".tick line\").attr(\"y1\", marginTop + marginBottom - height))\n                .call(g => g.select(\".domain\").remove())\n                .call(g => g.append(\"text\")\n                    .attr(\"y\", marginTop + marginBottom - height - 6)\n                    .attr(\"fill\", \"currentColor\")\n                    .attr(\"text-anchor\", \"start\")\n                    .attr(\"font-weight\", \"bold\")\n                    .text(title));\n        \n            return svg.node();\n        }\n    \n        //////////////////////////////////////////////////\n        /// data and map ///\n    \n        var la_map = values[0];\n        var canc_data = values[1];\n    \n        var color = d3.scaleQuantize([0, 36], d3.schemeGreys[9])  \n    \n        var canc_data = Object.assign(new Map(canc_data.slice(1).map(([zip_code,zip_canc_deaths_10k]) => [zip_code, +zip_canc_deaths_10k])));  \n    \n        canc_data.title = \"2019 cancer deaths per 10k\";\n    \n        var projection = d3.geoMercator()\n            .fitSize([width, height], la_map);\n            \n        var path = d3.geoPath()\n            .projection(projection);\n    \n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(1000,80)\")\n            .append(() => legend({ color, title: canc_data.title, width: 200 }));\n\n                \n        var Tooltip = d3.select(\"#map1\")\n            .append(\"div\")\n            .style(\"opacity\", 0)\n            .attr(\"class\", \"tooltip\")\n            .style(\"background-color\", \"white\")\n            .style(\"border\", \"solid\")\n            .style(\"border-width\", \"2px\")\n            .style(\"border-radius\", \"5px\")\n            .style(\"padding\", \"5px\")\n\n        var mouseover = function(d) {\n        Tooltip\n            .style(\"opacity\", 1)\n        d3.select(this)\n            .style(\"stroke\", \"black\")\n            .style(\"opacity\", 1)\n            .style(\"fill\", '#005A32')\n        }\n\n        // var mousemove = function(d) {\n        // Tooltip\n        //     .html(\"The average tumor smoothness for this stage is \"+ this.getAttribute('carlin')+\" cm.\")\n        //     .style(\"left\", (this.getAttribute('x')) + \"px\")\n        //     .style(\"bottom\", (this.getAttribute('height')) + \"px\");\n        // }\n\n        // var mouseleave = function(d) {\n        // Tooltip\n        //     .style(\"opacity\", 0)\n        // d3.select(this)\n        //     .style(\"stroke\", \"none\")\n        //     .style(\"opacity\", 1)\n        //     .style(\"fill\", '#28a745')\n        // }\n\n        svg.append('g')\n            .attr('class', 'zipcodes')\n            .selectAll(\"path\")\n            .data(la_map.features)\n            .enter()\n            .append('path')\n            .attr('d', path)\n            .attr(\"fill\", d => color(canc_data.get(d.properties.zcta))) \n            .on('mouseover', function () {            \n                // d3.select('#chor_info1')\n                //     .text('Zip code: ' +  this.__data__.properties.zcta +  ' - Total population: ' +  this.__data__.properties.tot_pop + ' - Median age: ' +  this.__data__.properties.age_median + ' years');               \n                d3.select(this).style(\"stroke\", 'blue').style(\"stroke-width\",3);\n                })\n            // .on(\"mouseout\", function () {\n            //   d3.select(this).style(\"stroke\", 'black').style(\"stroke-width\",0.2);\n            // });    \n    \n\n\n        var coh_hosp = [-117.97265500193778, 34.131232240226815];\n    \n        var marker = projection(coh_hosp);\n    \n        svg.append('circle')\n            .attr('cx', marker[0])\n            .attr('cy', marker[1])\n            .attr('fill', 'blue')\n            .attr('r', 10);\n    });    \n    \n}\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}